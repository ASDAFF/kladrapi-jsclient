!function(t){t.kladr={},t.kladr.url="http://kladr-api.ru/api.php",t.kladr.type={region:"region",district:"district",city:"city",street:"street",building:"building"},t.kladr.api=function(e,r){var i={};e.token&&(i.token=e.token),e.key&&(i.key=e.key),e.type&&(i.contentType=e.type),e.name&&(i.query=e.name),e.parentType&&e.parentId&&(i[e.parentType+"Id"]=e.parentId),e.withParents&&(i.withParent=1),i.limit=e.limit?e.limit:2e3;var n=!1;t.getJSON(t.kladr.url+"?callback=?",i,function(t){n||(n=!0,r&&r(t.result))}),setTimeout(function(){n||(n=!0,console.error("Request error"),r&&r([]))},5e3)},t.kladr.check=function(e,r){e.withParents=!1,e.limit=1,t.kladr.api(e,function(t){t&&t.length?r&&r(t[0]):r&&r(!1)})}}(jQuery);